逻辑基本顺畅
模块化还需改进
最后获胜条件有问题